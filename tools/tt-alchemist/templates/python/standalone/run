#!/bin/bash

# Confirm python3 exists
if ! command -v python3 &> /dev/null; then
    echo "Error: python3 could not be found"
    exit 1
fi

# Check if virtual environment exists
if [[ ! -d "venv" ]]; then
    echo "Error: Virtual environment not found"
    echo "Run ./setup.sh first to set up the environment"
    exit 1
fi

# Activate the virtual environment
echo "Activating virtual environment..."
source venv/bin/activate

# Confirm ttnn is installed
if ! python3 -c "import ttnn" &> /dev/null; then
    echo "Error: ttnn could not be imported"
    echo "Run ./setup.sh to install ttnn"
    exit 1
fi

# Run main.py
echo "Running main.py..."
python3 main.py
